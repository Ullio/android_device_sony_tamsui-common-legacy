diff --git a/libs/utils/Android.mk b/libs/utils/Android.mk
index ddfb83e12..f66f31fa9 100644
--- a/libs/utils/Android.mk
+++ b/libs/utils/Android.mk
@@ -126,9 +126,18 @@ LOCAL_SHARED_LIBRARIES := \
 LOCAL_MODULE:= libutils
 include $(BUILD_SHARED_LIBRARY)
 
+
+include $(CLEAR_VARS)
+LOCAL_MODULE := SharedBufferTest
+LOCAL_MODULE_TAGS := optional
+LOCAL_STATIC_LIBRARIES := libutils libcutils
+LOCAL_SHARED_LIBRARIES := liblog
+LOCAL_SRC_FILES := SharedBufferTest.cpp
+include $(BUILD_NATIVE_TEST)
+
+
 # Include subdirectory makefiles
 # ============================================================
-
 # If we're building with ONE_SHOT_MAKEFILE (mm, mmm), then what the framework
 # team really wants is to build the stuff defined by this makefile.
 ifeq (,$(ONE_SHOT_MAKEFILE))
